/*
  MODERNIZED CSS for DDD/BDD Interpreter Output
  Palette: Clean whites, cool blues, and soft shadows.
*/

:root {
    --color-primary: #007bff; /* Bright Blue */
    --color-secondary: #6c757d; /* Gray */
    --color-success: #28a745; /* Green */
    --color-danger: #dc3545; /* Red/Warning */
    --color-background: #f8f9fa; /* Light Gray Background */
    --color-card: #ffffff; /* White Card Background */
    --color-text: #212529; /* Dark Text */
    --color-code-bg: #e9ecef; /* Light Code Block Background */
    --color-readmodel: #6f42c1; /* Purple for ReadModels */
}

body {
    font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif; /* Modern Font Stack */
    background: var(--color-background);
    margin: 0;
    padding: 20px;
    color: var(--color-text);
    line-height: 1.6;
}

/* --- Input Area --- */
textarea {
    width: 100%;
    min-height: 250px;
    margin-bottom: 20px;
    padding: 15px;
    font-family: 'Fira Code', monospace; /* Nice monospaced font */
    font-size: 14px;
    border: 1px solid #ced4da;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    transition: border-color 0.2s;
}

textarea:focus {
    border-color: var(--color-primary);
    outline: none;
    box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
}

.buttons {
    margin-bottom: 30px;
    display: flex;
    gap: 10px;
}

button {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    background-color: var(--color-primary);
    color: var(--color-card);
    transition: background-color 0.2s, transform 0.1s;
}

button:hover {
    background-color: #0056b3;
}

button:disabled {
    background-color: var(--color-secondary);
    cursor: not-allowed;
}

/* --- Output Display --- */
#interpretation, #warnings {
    margin-top: 20px;
    background: var(--color-card);
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* Elevated Card Effect */
}

h3 {
    color: var(--color-primary);
    border-bottom: 2px solid #e9ecef;
    padding-bottom: 10px;
    margin-top: 0; /* Reset margin for top-level headers */
    font-size: 1.5rem;
    font-weight: 600;
}

h4 {
    color: var(--color-text);
    margin-top: 15px;
    font-size: 1.25rem;
    font-weight: 500;
}

hr {
    border: 0;
    height: 1px;
    background-color: #dee2e6;
    margin: 20px 0;
}

/* --- Flow and Objects --- */
.slice-header {
    margin-bottom: 15px;
}

.slice-type-state-change {
    color: var(--color-success); /* Green for STATE_CHANGE */
    font-weight: bold;
}

.slice-type-state-view {
    color: var(--color-readmodel); /* Purple for STATE_VIEW */
    font-weight: bold;
}

p strong {
    color: var(--color-secondary);
    display: inline-block;
    min-width: 100px;
}

/* --- Code and Pre-formatted Blocks (Summary) --- */
pre {
    background: var(--color-code-bg);
    padding: 15px;
    border-radius: 8px;
    overflow-x: auto;
    font-size: 0.9em;
    border: 1px solid #dee2e6;
}

/* --- BDD Specifications --- */
.bdd-block {
    background: #f7f9fd; /* Very light blue background */
    border-left: 5px solid var(--color-primary); /* Primary color accent bar */
    padding: 15px;
    margin: 10px 0 20px 0;
    border-radius: 6px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    transition: background-color 0.2s;
}

.bdd-block h5 {
    color: var(--color-primary);
    margin: 0 0 8px 0;
    font-size: 1.1rem;
    font-weight: 600;
}

.bdd-block p {
    margin: 5px 0;
    padding-left: 10px;
    border-left: 2px dotted #e9ecef;
}

.bdd-block b {
    color: var(--color-text);
    font-weight: 600;
    display: inline-block;
    min-width: 50px; /* Align GIVEN/WHEN/THEN */
}

.bdd-block i {
    font-style: normal;
    color: var(--color-readmodel); /* Distinct color for ReadModel/Step details */
}

/* --- Warnings --- */
#warningsList li {
    background-color: #fff3cd; /* Light warning yellow */
    color: #856404; /* Dark warning text */
    border: 1px solid #ffeeba;
    padding: 8px;
    margin-bottom: 5px;
    border-radius: 4px;
}

#warnings h3 {
    color: var(--color-danger); /* Red for Warnings header */
}

/* --- New Global Flow Section Styles --- */
.system-flow {
    font-weight: bold;
    margin: 15px 0;
}

/* --- Slice Object List Styles --- */
.slice-objects-container {
    margin-left: 20px; /* Indentation for the list of objects */
}

/* --- BDD Header and Empty State Styles --- */
.bdd-specifications-header {
    margin-top: 20px;
}

.no-bdd-specs {
    margin-left: 20px; /* Indentation for the 'No specs' message */
}

/* --- BDD Block Styles (replacing all inline block styles) --- */
.bdd-block {
    /* Styles moved from inline to here */
    background: #f7f9fd;
    border-left: 5px solid var(--color-primary); 
    padding: 15px;
    margin: 10px 0 20px 0;
    border-radius: 6px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

.bdd-block h5 {
    /* Styles moved from inline to here */
    margin: 0 0 8px 0;
    font-size: 1.1rem;
    font-weight: 600;
}

.bdd-comments {
    /* Styles moved from inline to here */
    color: #666; 
    margin: 0 0 5px 0;
}

.bdd-step-line {
    /* Styles moved from inline to here */
    margin: 3px 0;
}

/* --- BDD Step Text Styling (replacing inline style logic) --- */
.bdd-readmodel-step .bdd-step-title {
    /* Using the CSS variable for the purple ReadModel color */
    color: var(--color-readmodel); 
}
.bdd-step-title {
    font-style: italic;
}

.summary-block {
  background: #f5f5f5;
  font-family: monospace;
  padding: 8px;
  border-radius: 6px;
  white-space: pre-wrap;
}